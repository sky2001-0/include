# 自分用スタイルガイド

## 命名規則

- マクロ、列挙子 : "NAMED_WITH_ALL_CAPITALS"

- 変数、名前空間 : "snake_case"

- テンプレート変数、メンバ変数 : "snake_case" + "_"

- static const メンバ : "k" + "PascalCase"

- クラス、型、関数、メソッド : "PascalCase"

- 以下は例外的に : "snake_case"

  `begin / end`, `cbegin / cend`, `rbegin / rend`, `size`, `data`, `at`, `get_*`, `cget_*`, `*_to_*`


## 括弧

括弧の始まりの改行は以下のように。
```
if (true) {
}

for (int i = 0; i < 10; ++i) {
}

switch (ex) {
  case 0 : {
  }
  default : {
  }
}

void Func(int a)
{
}

class MyClass
{
};

namespace my_space
{
}
```


## ファイル内の宣言・定義の順序

- インクルードガード（ヘッダの場合）

  ```
  #ifndef FILENAME_H
  #define FILENAME_H
  ```

- 対応ヘッダのインクルード（ソースの場合）

- １行

- 標準ライブラリのインクルード（アルファベット順）

- １行

- 他ライブラリのインクルード（分類ごとに１行ずつ空ける、分類ごとにアルファベット順）

- １行

- プロジェクトの他ファイルのインクルード

- １行

- グローバルな`using namespace`宣言（非推奨、ソースのみ）

- １行

- グローバルな型エイリアス（非推奨、ソースのみ）

- ３行

- クラスの宣言、関数の定義

  クラス、関数ごとに２行空ける。

- インクルードガード（ヘッダの場合）

  ```
  #endif // FILENAME_H
  ```

- １行


## クラス宣言の順序

各ブロックごとに２行空ける。
ブロック内は基本的に１行ずつ空ける。

- テンプレートに関わる制約

  必要がなければSFINAEを用いずに、`static_assert`を用いる。

- 型エイリアス、クラス内クラスの前方宣言

- static ファクトリ関数

- static メンバ変数

- メンバ変数

- 各種コンストラクタ、デストラクタ、代入演算子

  `const`メンバ変数がある場合は、デフォルトムーブコンストラクタは削除されるので、自分で実装すること。

- 簡単なpublicメソッド

  `get`, `getf`, `cget`, `size` など

- 演算子のオーバーロード

  `operator+=`, `operator+` など

- その他のメソッド

- その他

  クラス内クラスの宣言など


## その他

- `const` は、意味論的に成り立つならば必ずつけること。

- `noexcept` は、つけられる場合はつけること。

- 文字リテラルを除き、一行を80字以内におさめる。

- コメントは直上につけること。

- 引数は基本型を除き参照とすること。

- クラスメンバは、基本型、コンテナ型、ポインタ、スマートポインタのいずれかにすること。

- デフォルト・コピー・ムーブコンストラクタおよび代入演算子は明示的に扱うこと。

- `pair`, `tuple`は、構造化束縛で受けること。

- 関数宣言の値渡し引数における`const`は、つけてはならない。
  実装内で値が変わらない保証をするときは、関数定義において`const`をつけること。

- スマートポインタを引数にとる関数は、スマートポインタ自体を変更するときに限ること。
  一般には`(const) T*`を引数にとり、引数には`_ptr.get()`で与えること。
  （`_ptr<T>`と`_ptr<const T>`は型が異なるため）
